{"version":3,"sources":["components/App/style.module.scss","components/PhotoCard/style.module.scss","components/SearchForm/style.module.scss","components/Gallery/style.module.scss","components/Modal/style.module.scss","components/SearchForm/index.jsx","components/PhotoCard/index.jsx","components/Gallery/index.jsx","components/Modal/index.jsx","components/App/index.jsx","index.js"],"names":["module","exports","SearchForm","onSubmit","className","css","searchForm","searchForm__input","type","autoComplete","placeholder","PhotoCard","props","toFullView","id","webformatURL","largeImageURL","comments","downloads","likes","views","photoCard","key","src","alt","photoCardImg","stats","statsItem","fullscreenButton","onClick","defaultProps","Gallery","imageList","loadMore","gallery","map","el","button","Modal","imgSrc","closeModal","overlay","target","modal","App","state","isFullView","images","spinner","error","query","per_page","page","api_key","handlePressKey","evt","code","setState","fetchPhotoData","queryEncoded","encodeURI","console","log","axios","get","then","res","data","hits","catch","err","finally","preventDefault","querySelector","value","this","window","addEventListener","prevProps","prevState","length","scrollBy","top","behavior","removeEventListener","timeout","Component","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.c8e2bc3a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"style_spinner__2XbSq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"style_photoCard__3S1xx\",\"fullscreenButton\":\"style_fullscreenButton__1XQ0K\",\"photoCardImg\":\"style_photoCardImg__ocg2n\",\"stats\":\"style_stats__3bCkF\",\"statsItem\":\"style_statsItem__W5j50\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"style_searchForm__1mpRr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"style_gallery___jVbn\",\"button\":\"style_button__1Mx7t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"style_overlay__2Ab_i\",\"modal\":\"style_modal__3yE_2\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport css from './style.module.scss';\r\n\r\nconst SearchForm = ({ onSubmit }) => {\r\n    \r\n  return(\r\n    <form className={css.searchForm} onSubmit={onSubmit}>\r\n      <input className={css.searchForm__input} type=\"text\" autoComplete=\"off\" placeholder=\"Search images...\"/>\r\n    </form>\r\n  )  \r\n  \r\n}\r\n\r\nSearchForm.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\nimport css from './style.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst PhotoCard = ({ props, toFullView }) => {\r\n  const { id, webformatURL, largeImageURL, comments, downloads, likes, views } = props;\r\n\r\n  return (\r\n    <li className={css.photoCard} key={id}>\r\n      <img src={webformatURL} alt=\"WebFormatImg\" className={css.photoCardImg}/>\r\n\r\n      <div className={css.stats}>\r\n        <p className={css.statsItem}>\r\n          <i className=\"material-icons\">thumb_up</i>\r\n          {likes}\r\n        </p>\r\n        <p className={css.statsItem}>\r\n          <i className=\"material-icons\">visibility</i>\r\n          {views}\r\n        </p>\r\n        <p className={css.statsItem}>\r\n          <i className=\"material-icons\">comment</i>\r\n          {comments}\r\n        </p>\r\n        <p className={css.statsItem}>\r\n          <i className=\"material-icons\">cloud_download</i>\r\n          {downloads}\r\n        </p>\r\n      </div> \r\n\r\n      <button type=\"button\" className={css.fullscreenButton} onClick={() => toFullView(largeImageURL)}>\r\n        <i className=\"material-icons\">zoom_out_map</i>\r\n      </button>\r\n    </li>\r\n    )\r\n}\r\n\r\nPhotoCard.propTypes = {\r\n  id: PropTypes.string,\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  comments: PropTypes.number,\r\n  downloads: PropTypes.number,\r\n  likes: PropTypes.number,\r\n  views: PropTypes.number,\r\n  toFullView: PropTypes.func,\r\n};\r\n\r\nPhotoCard.defaultProps = {\r\n  id: '',\r\n  webformatURL: \"https://delvin.by/wp-content/uploads/2019/06/empty.png\",\r\n  largeImageURL: \"\",\r\n  comments: 0,\r\n  downloads: 0,\r\n  likes: 0,\r\n  views: 0,\r\n}\r\n\r\nexport default PhotoCard;\r\n\r\n","import React, { Fragment } from 'react';\r\nimport PhotoCard from '../PhotoCard';\r\nimport css from './style.module.scss'\r\n\r\nconst Gallery = ({ imageList, toFullView, loadMore }) => {\r\n\r\n  return (\r\n    <Fragment>\r\n      <ul className={css.gallery}>\r\n        {imageList.map(el => <PhotoCard key={el.id} props={el} toFullView={toFullView}/>)}\r\n      </ul>\r\n      <button className={css.button} onClick={loadMore}>Show more</button>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Gallery;\r\n","import React from 'react';\r\nimport css from './style.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Modal = ({ imgSrc, closeModal }) => { \r\n  \r\n  const handleClick = ({ target }) => {\r\n    if (target.id !== \"overlay\") return;\r\n    closeModal();\r\n  }\r\n\r\n  return (\r\n    <div className={css.overlay} id=\"overlay\" onClick={handleClick}>\r\n      <img className={css.modal} src={imgSrc} alt=\"FullSizePhoto\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nModal.defaultProps = {\r\n  imgSrc: \"https://delvin.by/wp-content/uploads/2019/06/empty.png\",\r\n}\r\n\r\nModal.propTypes = {\r\n  imgSrc: PropTypes.string,\r\n};\r\n\r\nexport default Modal;","import React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport css from \"./style.module.scss\";\n\nimport SearchForm from '../SearchForm';\nimport Gallery from '../Gallery';\nimport Modal from '../Modal';\n\nclass App extends Component {\n\n  state = {\n    isFullView: false,\n    imgSrc: \"\",\n    images: [],\n    spinner: true,\n    error: '',\n  }\n  query = ' ';\n  per_page = 12;\n  page = 1;\n  api_key = '14090322-33bc1de3434a551c0882d475d';\n\n  componentDidMount() {\n    this.fetchPhotoData();\n    window.addEventListener(\"keydown\", this.handlePressKey);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { images: { length } } = this.state;\n    if (length !== prevState.images.length && length !== this.per_page) {\n        window.scrollBy({\n          top: 640,\n          behavior: 'smooth'\n        });\n      }\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handlePressKey);\n  }\n\n  handlePressKey = (evt) => {\n    if (evt.code === \"Escape\") this.setState({ isFullView: false });\n  }\n\n  loadMore = () => {\n    this.page += 1;\n    this.fetchPhotoData();\n  }\n\n  fetchPhotoData = () => {\n    if (!this.state.spinner) this.setState({ spinner: true });\n    let queryEncoded = encodeURI(this.query);\n    console.log(queryEncoded);\n    axios\n      .get(`https://pixabay.com/api/?key=${this.api_key}&q=${queryEncoded}&image_type=all&per_page=${this.per_page}&page=${this.page}`)\n      .then(res => this.setState(({ images }) => ({ images: [...images, ...res.data.hits] })))\n      .catch(err => this.setState({ error: err }))\n      .finally(() => this.setState({ spinner: false }));\n  }\n\n  onSubmit = (evt) => {\n    evt.preventDefault();\n    let query = evt.target.querySelector('input').value;\n    if (!query) query += \" \";\n    if (this.query === query) return;\n    this.page = 1;\n    this.query = query;\n    this.setState({ images: [] });\n    this.fetchPhotoData();\n  }\n\n  toFullView = (imgSrc) => {\n    this.setState({ isFullView: true, imgSrc: imgSrc }); \n  }\n\n  closeModal = () => {\n    this.setState({isFullView: false});\n  }\n\n  render() {\n    const { imgSrc, isFullView, images, spinner, error } = this.state;\n    console.log(this.query);\n    return (\n      <Fragment>\n        <SearchForm onSubmit={this.onSubmit} />\n        {spinner && <Loader timeout={5000} className={css.spinner} />}\n        {error && <h2>{this.state.error}</h2>}\n        {images[0] && <Gallery imageList={images} toFullView={this.toFullView} loadMore={this.loadMore}/>}\n        {isFullView && <Modal imgSrc={imgSrc} closeModal={this.closeModal}/>}\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport css from './style.css'\n\nReactDOM.render(<App className={css.app} />, document.getElementById('root'));"],"sourceRoot":""}