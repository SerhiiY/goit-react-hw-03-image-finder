{"version":3,"sources":["components/App/style.module.scss","components/PhotoCard/style.module.scss","components/SearchForm/style.module.scss","components/Gallery/style.module.scss","components/Modal/style.module.scss","components/SearchForm/index.jsx","components/PhotoCard/index.jsx","components/Gallery/index.jsx","components/Modal/index.jsx","components/App/index.jsx","index.js"],"names":["module","exports","SearchForm","onSubmit","className","css","searchForm","searchForm__input","type","autoComplete","placeholder","PhotoCard","props","toFullView","id","webformatURL","largeImageURL","comments","downloads","likes","views","photoCard","key","src","alt","photoCardImg","stats","statsItem","fullscreenButton","onClick","defaultProps","Gallery","imageList","loadMore","gallery","map","el","button","Modal","imgSrc","closeModal","overlay","target","modal","App","abortController","AbortController","state","isFullView","images","spinner","query","per_page","page","handlePressKey","evt","code","setState","fetchPhotoData","queryEncoded","encodeURI","axios","get","then","res","concat","data","hits","catch","err","console","log","preventDefault","querySelector","value","this","window","addEventListener","prevProps","prevState","length","scrollBy","top","behavior","removeEventListener","timeout","Component","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.8a31a71a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"style_spinner__2XbSq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"style_photoCard__3S1xx\",\"fullscreenButton\":\"style_fullscreenButton__1XQ0K\",\"photoCardImg\":\"style_photoCardImg__ocg2n\",\"stats\":\"style_stats__3bCkF\",\"statsItem\":\"style_statsItem__W5j50\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"style_searchForm__1mpRr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"style_gallery___jVbn\",\"button\":\"style_button__1Mx7t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"style_overlay__2Ab_i\",\"modal\":\"style_modal__3yE_2\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport css from './style.module.scss';\r\n\r\nconst SearchForm = ({ onSubmit }) => {\r\n    \r\n  return(\r\n    <form className={css.searchForm} onSubmit={onSubmit}>\r\n      <input className={css.searchForm__input} type=\"text\" autoComplete=\"off\" placeholder=\"Search images...\"/>\r\n    </form>\r\n  )  \r\n  \r\n}\r\n\r\nSearchForm.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\nimport css from './style.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst PhotoCard = ({ props, toFullView }) => {\r\n  const { id, webformatURL, largeImageURL, comments, downloads, likes, views } = props;\r\n\r\n  return (\r\n    <li className={css.photoCard} key={id}>\r\n      <img src={webformatURL} alt=\"WebFormatImg\" className={css.photoCardImg}/>\r\n\r\n      <div className={css.stats}>\r\n        <p className={css.statsItem}>\r\n          <i className=\"material-icons\">thumb_up</i>\r\n          {likes}\r\n        </p>\r\n        <p className={css.statsItem}>\r\n          <i className=\"material-icons\">visibility</i>\r\n          {views}\r\n        </p>\r\n        <p className={css.statsItem}>\r\n          <i className=\"material-icons\">comment</i>\r\n          {comments}\r\n        </p>\r\n        <p className={css.statsItem}>\r\n          <i className=\"material-icons\">cloud_download</i>\r\n          {downloads}\r\n        </p>\r\n      </div> \r\n\r\n      <button type=\"button\" className={css.fullscreenButton} onClick={() => toFullView(largeImageURL)}>\r\n        <i className=\"material-icons\">zoom_out_map</i>\r\n      </button>\r\n    </li>\r\n    )\r\n}\r\n\r\nPhotoCard.propTypes = {\r\n  id: PropTypes.string,\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  comments: PropTypes.number,\r\n  downloads: PropTypes.number,\r\n  likes: PropTypes.number,\r\n  views: PropTypes.number,\r\n  toFullView: PropTypes.func,\r\n};\r\n\r\nPhotoCard.defaultProps = {\r\n  id: '',\r\n  webformatURL: \"https://delvin.by/wp-content/uploads/2019/06/empty.png\",\r\n  largeImageURL: \"\",\r\n  comments: 0,\r\n  downloads: 0,\r\n  likes: 0,\r\n  views: 0,\r\n}\r\n\r\nexport default PhotoCard;\r\n\r\n","import React, { Fragment } from 'react';\r\nimport PhotoCard from '../PhotoCard';\r\nimport css from './style.module.scss'\r\n\r\nconst Gallery = ({ imageList, toFullView, loadMore }) => {\r\n\r\n  return (\r\n    <Fragment>\r\n      <ul className={css.gallery}>\r\n        {imageList.map(el => <PhotoCard key={el.id} props={el} toFullView={toFullView}/>)}\r\n      </ul>\r\n      <button className={css.button} onClick={loadMore}>Show more</button>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Gallery;\r\n","import React from 'react';\r\nimport css from './style.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Modal = ({ imgSrc, closeModal }) => { \r\n  \r\n  const handleClick = ({ target }) => {\r\n    if (target.id !== \"overlay\") return;\r\n    closeModal();\r\n  }\r\n\r\n  return (\r\n    <div className={css.overlay} id=\"overlay\" onClick={handleClick}>\r\n      <img className={css.modal} src={imgSrc} alt=\"FullSizePhoto\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nModal.defaultProps = {\r\n  imgSrc: \"https://delvin.by/wp-content/uploads/2019/06/empty.png\",\r\n}\r\n\r\nModal.propTypes = {\r\n  imgSrc: PropTypes.string,\r\n};\r\n\r\nexport default Modal;","import React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport css from \"./style.module.scss\";\n\nimport SearchForm from '../SearchForm';\nimport Gallery from '../Gallery';\nimport Modal from '../Modal';\n\nclass App extends Component {\n  abortController = new AbortController();\n  state = {\n    isFullView: false,\n    imgSrc: \"\",\n    images: [],\n    spinner: true,\n  }\n  query = '';\n  per_page = 12;\n  page = 1;\n\n  componentDidMount() {\n    this.fetchPhotoData(this.query);\n    window.addEventListener(\"keydown\", this.handlePressKey);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { images: { length } } = this.state;\n    if (length !== prevState.images.length && length !== this.per_page) {\n        window.scrollBy({\n          top: 640,\n          behavior: 'smooth'\n        });\n      }\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handlePressKey);\n  }\n\n  handlePressKey = (evt) => {\n    if (evt.code === \"Escape\") this.setState({ isFullView: false });\n  }\n\n  loadMore = () => {\n    this.page += 1;\n    this.fetchPhotoData();\n  }\n\n  fetchPhotoData = () => {\n    if (!this.state.spinner)this.setState({ spinner: true });\n    const queryEncoded = encodeURI(this.query);\n    axios\n      .get(`https://pixabay.com/api/?key=14090322-33bc1de3434a551c0882d475d&q=${queryEncoded}&image_type=all&per_page=${this.per_page}&page=${this.page}`)\n      .then(res => this.setState(({ images }) => ({ images: images.concat(res.data.hits), spinner: false })))\n      .catch(err => console.log(err));\n  }\n\n  onSubmit = (evt) => {\n    evt.preventDefault();\n    const query = evt.target.querySelector('input').value;\n    if (this.query === query) return;\n    this.page = 1;\n    this.query = query;\n    this.setState({ images: [] });\n    this.fetchPhotoData();\n  }\n\n  toFullView = (imgSrc) => {\n    this.setState({ isFullView: true, imgSrc: imgSrc }); \n  }\n\n  closeModal = () => {\n    this.setState({isFullView: false});\n  }\n\n  render() {\n    const { imgSrc, isFullView, images, spinner } = this.state;\n\n    return (\n      <Fragment>\n        <SearchForm onSubmit={this.onSubmit} />\n        {spinner && <Loader timeout={5000} className={css.spinner}/>}\n        {images[0] && <Gallery imageList={images} toFullView={this.toFullView} loadMore={this.loadMore}/>}\n        {isFullView && <Modal imgSrc={imgSrc} closeModal={this.closeModal}/>}\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport css from './style.css'\n\nReactDOM.render(<App className={css.app} />, document.getElementById('root'));"],"sourceRoot":""}